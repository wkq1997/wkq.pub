---
title: 网关
---
网关在计算机科学中，主要用来表示位于内部区域边缘，与外界进行交互的某个物理或逻辑设备，比如家里的路由器就属于家庭内网与互联网之间的网关。

:::tip

在单体架构下，网关其实就是给各个单体系统的副本分发流量的负载均衡器，承担着内部服务与外部调用之间的网关角色。存在感不强。 <br/>
在微服务环境中，服务节点众多，如果外部的服务消费者没有一个统一对外交互的代理人角色，那么外部的服务消费者就必须知道所有微服务在集群中的精确坐标。所以网关成为了微服务集群中必不可少的基础设施之一。<br/>

:::

微服务中网关的首要职责，就是 **以统一的地址对外提供服务，将外部访问这个地址的流量，根据适当的规则路由到内部集中正确的服务节点之上。**所以，微服务中的网关，也被称为 ”服务网关“ 或 ”API 网关“

**微服务的网关首先是个路由器**，在满足此前提的基础上，网关还可以根据需要作为流量过滤器来使用，以满足某些额外的可选的功能，比如安全、认证、授权、限流、监控、缓存等。

:::tip
网关 = 路由器（基础职能）+ 过滤器 （可选职能）
:::

## BFF（Backends for Frontends）

网关不必为所有前端提供无差别的服务，而是应该针对不同的前端，聚合不同的服务，提供不同的接口和网络访问协议支持。

在网关这种边缘节点上，可以针对同样的后端集群，裁剪、适配、聚合出适应不一样的前端服务。

![e8651029f785d27618d7ffa051d1a234](https://img.wkq.pub/hexo/e8651029f785d27618d7ffa051d1a234.webp)

